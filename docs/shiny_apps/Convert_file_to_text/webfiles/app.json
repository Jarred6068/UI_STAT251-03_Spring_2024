[{"name":"app.R","content":"\r\nlibrary(shiny)\r\n\r\nui <- fluidPage(  \r\n  titlePanel('Convert values to csv text'),\r\n  sidebarLayout(\r\n    sidebarPanel(width = 4, \r\n  \r\n      fileInput(\"myfileinput\", \r\n                \"Please choose a csv File\", \r\n                multiple = FALSE, \r\n                accept = c(\"text/csv\", \"text/comma-separated-values,text/plain\", \".csv\")),\r\n  \r\n      selectInput('myselectinput','Select variable', \"\"),\r\n      actionButton(\"print\",\"Print\")),\r\n      \r\n      mainPanel(\"\", tableOutput('mytable'),\r\n                verbatimTextOutput(\"text\"))\r\n    \r\n  )\r\n)\r\n      \r\n\r\nserver <- function(input, output, session) {\r\n  \r\n  #Reactive to store loaded data\r\n  reactives <- reactiveValues(\r\n    \r\n    mydata = NULL\r\n    \r\n  )\r\n  \r\n  #Observe file being selected\r\n  observeEvent(input$myfileinput, {\r\n    \r\n    #Store loaded data in reactive\r\n    reactives$mydata <- read.csv(file = input$myfileinput$datapath)\r\n    #browser()\r\n    #Update select input\r\n    updateSelectInput(session, inputId = 'myselectinput', label = 'Select the first var', choices  = colnames(reactives$mydata))\r\n    \r\n  })\r\n  \r\n  #Data table\r\n  output$mytable <- renderTable({ \r\n    \r\n    head(reactives$mydata)\r\n    \r\n  })\r\n  \r\n  \r\n  observeEvent(input$print,  output$text <- renderPrint({\r\n    idx = which(colnames(reactives$mydata) == input$myselectinput)\r\n    paste0(reactives$mydata[,idx], collapse = ',')\r\n  }))\r\n  \r\n}\r\n\r\nshinyApp(ui = ui, server = server)","type":"text"},{"name":"deploy_app.R","content":"path = 'C:/Users/Bruin/Documents/GitHub/UI_STAT251-03_Spring_2024/docs/shiny_apps/Convert_file_to_text/'\r\noutpath = 'C:/Users/Bruin/Documents/GitHub/UI_STAT251-03_Spring_2024/docs/shiny_apps/Convert_file_to_text/webfiles/'\r\nshinylive::export(appdir = path, destdir = outpath)\r\nhttpuv::runStaticServer(\"C:/Users/Bruin/Documents/GitHub/UI_STAT251-03_Spring_2024/docs/shiny_apps/Convert_file_to_text/webfiles/\")\r\n","type":"text"}]
